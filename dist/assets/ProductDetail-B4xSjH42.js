import{j as e}from"./vendor-query-Bcn4Fvtg.js";import{h as z,u as L,r,L as n}from"./vendor-react-DbHp_wuh.js";import{u as R,C as $,j as p,o as y,p as C,q as T,h as P,v as Q,r as U,s as B,f as E,t as M,n as H}from"./index-CDJVr2wI.js";import{a as O,u as D}from"./useProducts-D7jbvMYx.js";import"./vendor-icons-BV48wJe3.js";import"./api--gIgMF1d.js";const _=()=>{const{id:x}=z(),j=L(),{addToCart:k}=R(),[d,o]=r.useState(0),[t,m]=r.useState(1),[l,q]=r.useState("overview"),[F,u]=r.useState(!1),[N,g]=r.useState(!1),{data:a,isLoading:I,error:S}=O(x),{data:v=[]}=D({categoryId:a?.category?.id,limit:4,exclude:x});if(I)return e.jsx("div",{className:"product-detail-page",children:e.jsxs("div",{className:"product-detail-loading",children:[e.jsx("div",{className:"product-detail-spinner"}),e.jsx("p",{children:"Loading product details..."})]})});if(S||!a)return e.jsx("div",{className:"product-detail-page",children:e.jsxs("div",{className:"product-detail-error",children:[e.jsx("div",{className:"error-icon",children:"ðŸ“¦"}),e.jsx("h2",{children:"Product Not Found"}),e.jsx("p",{children:"The product you're looking for doesn't exist or has been removed."}),e.jsx("button",{onClick:()=>j("/products"),className:"error-btn",children:"Browse Products"})]})});const i=[a.imageUrl,...a.images||[]].filter(Boolean),h=(s=>{if(!s||s.length===0)return null;const c=s[0];return{symbol:c.currency==="INR"?"â‚¹":c.currency==="SAR"?"Ø±.Ø³":"$",amount:c.amount?.toLocaleString(),currency:c.currency}})(a.prices),w=()=>{for(let s=0;s<t;s++)k({id:a.id,name:a.name,slug:a.slug,imageUrl:a.imageUrl,price:a.prices?.[0]?.amount||0,currency:a.prices?.[0]?.currency||"INR"});g(!0),setTimeout(()=>g(!1),2e3)},b=()=>{o(s=>(s+1)%i.length)},f=()=>{o(s=>(s-1+i.length)%i.length)},A=[{id:"overview",label:"Overview",icon:p},{id:"features",label:"Features",icon:B},{id:"specs",label:"Specifications",icon:E},{id:"faqs",label:"FAQs",icon:M}];return e.jsxs("div",{className:"product-detail-page",children:[e.jsx("section",{className:"product-detail-hero",children:e.jsxs("div",{className:"product-detail-hero-content",children:[e.jsxs("nav",{className:"product-detail-breadcrumb",children:[e.jsx(n,{to:"/",children:"Home"})," /",e.jsx(n,{to:"/products",children:"Products"})," /",a.category&&e.jsxs(e.Fragment,{children:[e.jsx(n,{to:`/products?categoryId=${a.category.id}`,children:a.category.name})," / "]}),e.jsx("span",{children:a.name})]}),e.jsxs("button",{onClick:()=>j(-1),className:"product-detail-back-btn",children:[e.jsx($,{size:18}),"Back to Products"]})]})}),e.jsx("section",{className:"product-detail-main",children:e.jsx("div",{className:"product-detail-container",children:e.jsxs("div",{className:"product-detail-grid",children:[e.jsxs("div",{className:"product-detail-gallery",children:[e.jsxs("div",{className:"product-detail-main-image",onClick:()=>u(!0),children:[i.length>0?e.jsx("img",{src:i[d],alt:a.name,onError:s=>{s.target.src="https://via.placeholder.com/600x600?text=No+Image"}}):e.jsxs("div",{className:"product-detail-no-image",children:[e.jsx(p,{size:80}),e.jsx("span",{children:"No Image Available"})]}),i.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"gallery-nav-btn prev",onClick:s=>{s.stopPropagation(),f()},children:e.jsx(y,{size:24})}),e.jsx("button",{className:"gallery-nav-btn next",onClick:s=>{s.stopPropagation(),b()},children:e.jsx(C,{size:24})})]}),e.jsxs("div",{className:"image-counter",children:[d+1," / ",i.length||1]})]}),i.length>1&&e.jsx("div",{className:"product-detail-thumbnails",children:i.map((s,c)=>e.jsx("button",{className:`thumbnail-btn ${c===d?"active":""}`,onClick:()=>o(c),children:e.jsx("img",{src:s,alt:`${a.name} ${c+1}`})},c))})]}),e.jsxs("div",{className:"product-detail-info",children:[e.jsxs("div",{className:"product-detail-tags",children:[a.category&&e.jsxs("span",{className:"product-tag category",children:[e.jsx(T,{size:12}),a.category.name]}),a.industries?.slice(0,2).map((s,c)=>e.jsx("span",{className:"product-tag industry",children:s.industry?.name||s.name},c))]}),e.jsx("h1",{className:"product-detail-title",children:a.name}),h&&e.jsxs("div",{className:"product-detail-price-section",children:[e.jsxs("div",{className:"product-detail-price",children:[e.jsx("span",{className:"price-label",children:"Price"}),e.jsxs("span",{className:"price-value",children:[h.symbol,h.amount]})]}),a.prices?.length>1&&e.jsxs("div",{className:"product-detail-all-prices",children:[e.jsx("span",{className:"price-heading",children:"Available in:"}),e.jsx("div",{className:"price-list",children:a.prices.map((s,c)=>e.jsxs("div",{className:"price-item",children:[e.jsx("span",{className:"price-currency",children:s.currency}),e.jsxs("span",{className:"price-amount",children:[s.currency==="INR"?"â‚¹":s.currency==="SAR"?"Ø±.Ø³":"$",s.amount?.toLocaleString()]})]},c))})]})]}),e.jsxs("div",{className:"product-detail-quantity",children:[e.jsx("label",{className:"quantity-label",children:"Quantity"}),e.jsxs("div",{className:"quantity-controls",children:[e.jsx("button",{className:"quantity-btn",onClick:()=>t>1&&m(t-1),children:"-"}),e.jsx("input",{type:"number",value:t,onChange:s=>m(Math.max(1,parseInt(s.target.value)||1)),className:"quantity-input"}),e.jsx("button",{className:"quantity-btn",onClick:()=>m(t+1),children:"+"})]})]}),e.jsxs("div",{className:"product-detail-actions",children:[e.jsx("button",{className:`product-action-btn add-to-cart ${N?"added":""}`,onClick:w,children:N?e.jsxs(e.Fragment,{children:[e.jsx(P,{size:20}),"Added to Cart!"]}):e.jsxs(e.Fragment,{children:[e.jsx(Q,{size:20}),"Add to Cart"]})}),e.jsxs(n,{to:"/rfq",state:{product:a,quantity:t},className:"product-action-btn request-quote",children:[e.jsx(U,{size:20}),"Request Quote"]})]})]})]})})}),e.jsx("section",{className:"product-detail-tabs-section",children:e.jsxs("div",{className:"product-detail-container",children:[e.jsx("div",{className:"product-detail-tabs",children:A.map(s=>e.jsxs("button",{className:`product-tab-btn ${l===s.id?"active":""}`,onClick:()=>q(s.id),children:[e.jsx(s.icon,{size:16}),s.label]},s.id))}),e.jsxs("div",{className:"product-detail-tab-content",children:[l==="overview"&&e.jsxs("div",{className:"tab-panel overview",children:[e.jsx("h2",{children:"Product Overview"}),e.jsx("p",{children:a.overview||a.description||"No overview available for this product."})]}),l==="features"&&e.jsxs("div",{className:"tab-panel features",children:[e.jsx("h2",{children:"Key Features"}),a.features?.length>0?e.jsx("ul",{className:"features-list",children:a.features.map((s,c)=>e.jsxs("li",{className:"feature-item",children:[e.jsx("span",{className:"feature-bullet"}),e.jsxs("div",{className:"feature-content",children:[e.jsx("span",{className:"feature-title",children:s.title||s.feature}),s.description&&e.jsx("span",{className:"feature-desc",children:s.description})]})]},c))}):e.jsx("p",{className:"empty-content",children:"No features listed for this product."})]}),l==="specs"&&e.jsxs("div",{className:"tab-panel specs",children:[e.jsx("h2",{children:"Specifications"}),a.specifications?.length>0?e.jsx("table",{className:"specs-table",children:e.jsx("tbody",{children:a.specifications.map((s,c)=>e.jsxs("tr",{children:[e.jsx("td",{className:"spec-param",children:s.parameter||s.key}),e.jsx("td",{className:"spec-value",children:s.value})]},c))})}):e.jsx("p",{className:"empty-content",children:"No specifications available."})]}),l==="faqs"&&e.jsxs("div",{className:"tab-panel faqs",children:[e.jsx("h2",{children:"Frequently Asked Questions"}),a.faqs?.length>0?e.jsx("div",{className:"faqs-list",children:a.faqs.map((s,c)=>e.jsxs("div",{className:"faq-item",children:[e.jsx("h4",{className:"faq-question",children:s.question}),e.jsx("p",{className:"faq-answer",children:s.answer})]},c))}):e.jsx("p",{className:"empty-content",children:"No FAQs available for this product."})]})]})]})}),v.length>0&&e.jsx("section",{className:"product-detail-related",children:e.jsxs("div",{className:"product-detail-container",children:[e.jsx("h2",{className:"related-title",children:"Related Products"}),e.jsx("div",{className:"related-grid",children:v.map(s=>e.jsxs(n,{to:`/products/${s.slug||s.id}`,className:"related-product-card",children:[e.jsx("div",{className:"related-product-image",children:s.imageUrl?e.jsx("img",{src:s.imageUrl,alt:s.name}):e.jsx("div",{className:"related-no-image",children:e.jsx(p,{size:32})})}),e.jsxs("div",{className:"related-product-info",children:[s.category&&e.jsx("span",{className:"related-category",children:s.category.name}),e.jsx("h4",{className:"related-name",children:s.name}),s.prices?.[0]&&e.jsxs("span",{className:"related-price",children:[s.prices[0].currency==="INR"?"â‚¹":s.prices[0].currency==="SAR"?"Ø±.Ø³":"$",s.prices[0].amount?.toLocaleString()]})]})]},s.id))})]})}),F&&e.jsx("div",{className:"product-image-modal",onClick:()=>u(!1),children:e.jsxs("div",{className:"modal-content",onClick:s=>s.stopPropagation(),children:[e.jsx("button",{className:"modal-close",onClick:()=>u(!1),children:e.jsx(H,{size:24})}),i.length>0&&e.jsx("img",{src:i[d],alt:a.name,className:"modal-image"}),i.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"modal-nav prev",onClick:f,children:e.jsx(y,{size:32})}),e.jsx("button",{className:"modal-nav next",onClick:b,children:e.jsx(C,{size:32})})]})]})})]})};export{_ as default};
