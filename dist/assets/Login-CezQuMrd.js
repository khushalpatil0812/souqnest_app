import{j as e}from"./vendor-query-Bcn4Fvtg.js";import{r as l,u as y,L as x}from"./vendor-react-DbHp_wuh.js";import{S as j,G as N,E as v,T as w}from"./index-CDJVr2wI.js";import{f as k,b as S}from"./api--gIgMF1d.js";import"./vendor-icons-BV48wJe3.js";const q=()=>{const[o,u]=l.useState(""),[c,p]=l.useState(""),[d,i]=l.useState(""),[r,n]=l.useState(!1),h=y(),{login:g}=j(),b=async s=>{s.preventDefault(),i(""),n(!0);try{console.log("Login attempt:",{email:o});const a=await k.login({email:o,password:c});console.log("Login response:",a);const m=S(a),f=m.token,t=m.user;if(console.log("User object:",t),!t||t.role!=="SUPER_ADMIN"){i("Access denied. Admin privileges required."),n(!1);return}g(t,f),h("/admin/dashboard")}catch(a){console.error("Login error:",a),i(a.response?.data?.message||"Login failed. Please check your credentials.")}finally{n(!1)}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-50 to-gray-100",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx(x,{to:"/",className:"inline-block",children:e.jsx("h1",{className:"text-4xl font-bold text-primary-900",children:"SouqNest"})}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Admin Dashboard"})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 border border-gray-200",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Welcome Back"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Sign in to access your admin dashboard"}),d&&e.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-start gap-3",children:[e.jsx(N,{className:"text-red-600 mt-0.5 flex-shrink-0",size:20}),e.jsx("p",{className:"text-red-700 text-sm",children:d})]}),e.jsxs("form",{onSubmit:b,className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(v,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),e.jsx("input",{type:"email",id:"email",value:o,onChange:s=>u(s.target.value),required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all",placeholder:"admin@souqnest.com",disabled:r})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(w,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),e.jsx("input",{type:"password",id:"password",value:c,onChange:s=>p(s.target.value),required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all",placeholder:"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢",disabled:r})]})]}),e.jsx("button",{type:"submit",disabled:r,className:"w-full bg-primary hover:bg-primary-700 text-white font-semibold py-3 px-4 rounded-lg transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-md hover:shadow-lg",children:r?e.jsxs("span",{className:"flex items-center justify-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign In"})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx("p",{className:"text-sm text-gray-600",children:e.jsx(x,{to:"/",className:"text-primary hover:text-primary-700 font-medium transition-colors",children:"‚Üê Back to Website"})})})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx("p",{className:"text-sm text-gray-500",children:"üîí Only authorized administrators can access this panel"})})]})})};export{q as default};
